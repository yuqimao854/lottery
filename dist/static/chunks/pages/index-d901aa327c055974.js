(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1772)}])},1772:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return p}});var n=t(5893),i=t(9008),a=t.n(i),c=t(7294);t(6964);function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return u(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o,s=10,d=16;!function(e){e.I="I",e.O="O",e.Z="Z",e.L="L",e.W="W"}(o||(o={}));var f=function(e){for(var r="",t=0;t<e;t++)r+="0";return r},m=[{type:o.W,item:[Number("0b01".concat(f(8))),Number("0b111".concat(f(7)))]},{type:o.O,item:[Number("0b11".concat(f(8))),Number("0b11".concat(f(8)))]},{type:o.I,item:[Number("0b10".concat(f(8))),Number("0b10".concat(f(8))),Number("0b10".concat(f(8))),Number("0b10".concat(f(8)))]},{type:o.L,item:[Number("0b10".concat(f(8))),Number("0b111".concat(f(7)))]},{type:o.L,item:[Number("0b001".concat(f(7))),Number("0b111".concat(f(7)))]},{type:o.Z,item:[Number("0b11".concat(f(8))),Number("0b011".concat(f(7)))]}],v=null,b=function(){var e=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return(e||0).toString(2).padStart(r,"0")},r=function(e){return Math.floor(Math.random()*Math.floor(e))},t=(0,c.useState)(new Array(d).fill(0)),i=t[0],a=t[1],u=(0,c.useState)(new Array(d).fill(0)),f=u[0],b=u[1],x=(0,c.useState)(!1),h=x[0],p=x[1],N=(0,c.useState)(!1),g=N[0],j=N[1],y=(0,c.useRef)(i),w=(0,c.useRef)(f),_=(0,c.useRef)(!1),k=(0,c.useState)(!1),A=k[0],S=k[1],I=(0,c.useRef)(),E=(0,c.useState)([]),C=E[0],L=E[1],O=(0,c.useRef)({type:o.I,transferred:!1}),H=(0,c.useRef)(0);(0,c.useEffect)((function(){y.current=i}),[i]),(0,c.useEffect)((function(){w.current=f}),[f]);var R=function(e){return[0].concat(l(e.slice(0,-1)))},D=function(){return function(){var e,t,n=m[void 0===I.current?r(m.length):I.current],i=n.item,a=n.type;I.current=r(m.length),O.current.type=a,O.current.transferred=!1;var c=(e=Math).min.apply(e,l(i.map((function(e){var r;return null!==(t=null===(r=e.toString(2).match(/0/g))||void 0===r?void 0:r.length)&&void 0!==t?t:0})))),u=r(c);return i.map((function(e){return e>>u}))}()},M=function(r,t){var n=!1;return t.map((function(i,a){if(i){var c,u,l=a,o=e(null!==(c=r[l])&&void 0!==c?c:0),s=e(null!==(u=t[l])&&void 0!==u?u:0);o.split("").map((function(e,r){"1"===e&&"1"===s[r]&&(n=!0)}))}})),n},T=function(){var e=D(),r=new Array(d).fill(0);e.forEach((function(e,t){r[t]=e})),b(r),M(r,y.current)?(_.current=!1,p(!1),j(!1),v&&clearInterval(v),S(!0)):L(function(){var e;return m[null!==(e=I.current)&&void 0!==e?e:0].item}())},W=function(){if(_.current){var r=R(w.current);if(M(r,y.current)||w.current.at(-1)){var t=function(r,t){var n=[];return t.map((function(i,a){if(0===i)n[a]=r[a];else{var c=e(r[a]),u=e(t[a]);n[a]=Number("0b"+c)^Number("0b"+u)}})),n}(w.current,y.current);b([]);var n=function(e){var r=[];return e.map((function(e){e===Math.pow(2,s)-1?(r.unshift(0),H.current+=1):r.push(e)})),r}(t);return a(n),void T()}b(r)}},B=function(){if(_.current){var r=function(r){var t=!1,n=r.map((function(r){return"1"===e(r).at(0)&&(t=!0),r<<1}));return t?r:n}(w.current);M(r,y.current)||b(r)}},P=function(){if(_.current){var r=function(r){var t=!1,n=r.map((function(r){return"1"===e(r).at(-1)&&(t=!0),r>>1}));return t?r:n}(w.current);M(r,y.current)||b(r)}},Z=function(){if(_.current){var r=function(r,t){var n=r.map((function(r){return e(r).split("")})),i=!0,a=function(e){var t=[1/0,1/0];n.map((function(r,i){r.map((function(r,a){var c,u,l,s,d,f,m,v;15!==i&&9!=a&&(e===o.W&&Number(null===n||void 0===n||null===(c=n[i])||void 0===c?void 0:c[a-1])+Number(null===n||void 0===n||null===(u=n[i])||void 0===u?void 0:u[a+1])+Number(null===n||void 0===n||null===(l=n[i-1])||void 0===l?void 0:l[a])+Number(null===n||void 0===n||null===(s=n[i+1])||void 0===s?void 0:s[a])===3&&(t=[i,a]),e===o.L&&(Number(null===n||void 0===n||null===(d=n[i])||void 0===d?void 0:d[a-1])+Number(null===n||void 0===n||null===(f=n[i])||void 0===f?void 0:f[a+1])!==2&&Number(null===n||void 0===n||null===(m=n[i-1])||void 0===m?void 0:m[a])+Number(null===n||void 0===n||null===(v=n[i+1])||void 0===v?void 0:v[a])!==2||(t=[i,a])))}))}));var a=t[0]-1,c=t[1]-1;if(a+3>d||c+3>s||a<0||c<0)return{list:r,transferred:!1};for(var u=n.slice(a,a+3+1).map((function(e){return e.slice(c,c+3+1)})),l=new Array(3).fill(0).map((function(){return new Array(3).fill("0")})),f=0;f<3;f++)for(var m=2;m>=0;m--)l[f][3-m-1]=u[m][f];for(var v=0;v<l.length;v++)for(var b=0;b<l[v].length;b++)n[v+a][b+c]=l[v][b];return{list:n.map((function(e,r){return Number("0b"+e.join(""))})),transferred:i}};switch(t){case o.I:var c=-1,u=-1;return{list:n.map((function(e,r){return e.map((function(e,t){return"1"===e&&-1===c&&-1===u&&(c=r,u=t),O.current.transferred?(c+4>d&&(i=!1),t===u&&r<c+4?"1":"0"):(u+4>s&&(i=!1),r===c&&t<u+4?"1":"0")}))})).map((function(e){return Number("0b"+e.join(""))})),transferred:i};case o.W:case o.L:return a(t);case o.Z:for(var l=-1,f=-1,m=0;m<n.length;m++){for(var v=0;v<n[m].length;v++)if("1"===n[m][v]&&-1===l&&-1===f){l=m,f=v;break}if(-1!==l&&-1!==f)break}return{list:n.map((function(e,r){return e.map((function(e,t){return"1"===e&&-1===l&&-1===f&&(l=r,f=t),O.current.transferred?(1===f&&(i=!1),r===l&&(t===f-1||t===f-2)||r===l+1&&(t===f||t===f-1)?"1":"0"):(l>=14&&(i=!1),r===l&&t===f+2||r===l+1&&(t===f+1||t===f+2)||r===l+2&&t==f+1?"1":"0")}))})).map((function(e){return Number("0b"+e.join(""))})),transferred:i}}return{list:r,transferred:!1}}(w.current,O.current.type),t=r.list,n=r.transferred;!M(t,y.current)&&n?(O.current.transferred=!O.current.transferred,b(t)):console.log("trigger return")}},F=function(){if(_.current){for(var e=[],r=w.current;;){if(M(R(r),y.current)||r.at(-1)){e=r;break}r=R(r)}b(e)}};return(0,c.useEffect)((function(){document.addEventListener("keydown",(function(e){switch(e.code){case"ArrowLeft":e.preventDefault(),B();break;case"ArrowRight":e.preventDefault(),P();break;case"ArrowDown":e.preventDefault(),W();break;case"ArrowUp":e.preventDefault(),Z();break;case"Space":e.preventDefault(),F()}}))}),[]),(0,n.jsxs)("div",{className:"flex h-[100vh] bg-red-900 flex-col items-center content-center pt-4",children:[(0,n.jsxs)("div",{className:"flex relative w-full bg-slate-400 ",children:[(0,n.jsxs)("div",{style:{position:"relative",width:"fit-content"},className:" border-r-2 border-r-zinc-800",children:[(0,n.jsx)("div",{children:i.map((function(r,t){return(0,n.jsx)("div",{style:{display:"flex"},children:e(r).split("").map((function(e,r){return(0,n.jsx)("div",{className:"w-6 h-6",style:{opacity:"1"===e?1:0,background:"#191B1F",margin:1}},"sub"+r)}))},"main"+t)}))}),(0,n.jsx)("div",{style:{position:"absolute",top:0,left:0},children:f.map((function(r,t){return(0,n.jsx)("div",{style:{display:"flex"},children:e(r).split("").map((function(e,r){return(0,n.jsx)("div",{className:"w-6 h-6",style:{background:"#191B1F",opacity:"1"===e?1:0,margin:1}},"moving-sub"+r)}))},"moving-main"+t)}))})]}),(0,n.jsxs)("div",{className:" text-center flex-1 overflow-hidden",children:[(0,n.jsx)("div",{className:" ",children:"Score"}),(0,n.jsx)("div",{className:"mt-3 font-bold text-4xl",children:H.current}),(0,n.jsx)("div",{className:"mt-10 font-bold ",children:"Next Block"}),(0,n.jsx)("div",{className:" mt-10 translate-x-6",children:C.map((function(r,t){return(0,n.jsx)("div",{style:{display:"flex"},children:e(r).split("").slice(0,4).map((function(e,r){return(0,n.jsx)("div",{className:"w-6 h-6",style:{opacity:"1"===e?1:0,background:"#191B1F",margin:1}},"next_sub"+r)}))},"next_main"+t)}))})]}),(0,n.jsx)("div",{style:{position:"absolute",top:0,left:0,zIndex:10,background:"black",opacity:h||A?.8:0,width:"100%",height:"100%"},className:" flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-center font-bold text-teal-50 text-8xl align-middle",children:h?"Pause":"Game Over"})})]}),(0,n.jsxs)("div",{className:"flex mt-4 mb-4",children:[(0,n.jsxs)("div",{className:"mr-4 items-center flex justify-center flex-col",children:[(0,n.jsx)("div",{onClick:function(){g||(j(!0),_.current=!0,H.current=0,T(),v=setInterval((function(){W()}),600),S(!1))},className:" w-6 h-6 rounded-[50%] bg-amber-400 active:bg-amber-600 active:shadow-2xl"}),(0,n.jsx)("div",{className:" text-amber-100 ",children:" on/off"})]}),(0,n.jsxs)("div",{className:"mr-4 items-center flex justify-center flex-col",children:[(0,n.jsx)("div",{className:"w-6 h-6 rounded-[50%] bg-amber-400 active:bg-amber-600 active:shadow-2xl",onClick:function(){!A&&g&&(_.current?(v&&clearInterval(v),v=null):v=setInterval((function(){W()}),600),_.current=!_.current,p(!h))}}),(0,n.jsx)("div",{className:"text-amber-100",children:"pause/play"})]}),(0,n.jsxs)("div",{className:"mr-4 items-center flex justify-center flex-col",children:[(0,n.jsx)("div",{className:"w-6 h-6 rounded-[50%] bg-amber-400 active:bg-amber-600 active:shadow-2xl ",onClick:function(){p(!1),j(!1),b(new Array(d).fill(0)),a(new Array(d).fill(0)),L([]),S(!1),_.current=!1,H.current=0,I.current=void 0,v&&clearInterval(v),v=null}}),(0,n.jsx)("div",{className:"text-amber-100",children:" reset"})]})]}),(0,n.jsxs)("div",{className:"flex mt-10 items-center ",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"flex w-[9rem] justify-center",children:(0,n.jsx)("div",{className:"text-amber-100 font-bold text-4xl leading-[3rem] text-center w-12 h-12 rounded-[50%] bg-amber-400 active:bg-amber-600 active:shadow-2xl ",onClick:function(){Z()},children:"\u2191"})}),(0,n.jsxs)("div",{className:"flex w-[9rem] justify-between",children:[(0,n.jsx)("div",{className:"text-amber-100 font-bold text-4xl leading-[3rem] text-center w-12 h-12 rounded-[50%] bg-amber-400 active:bg-amber-600 active:shadow-2xl ",onClick:function(){B()},children:"\u2190"}),(0,n.jsx)("div",{className:"text-amber-100 font-bold text-4xl leading-[3rem] text-center w-12 h-12 rounded-[50%] bg-amber-400 active:bg-amber-600 active:shadow-2xl ",onClick:function(){P()},children:"\u2192"})]}),(0,n.jsx)("div",{className:"flex w-[9rem] justify-center",children:(0,n.jsx)("div",{className:"text-amber-100 font-bold text-4xl leading-[3rem] text-center w-12 h-12 rounded-[50%] bg-amber-400 active:bg-amber-600 active:shadow-2xl ",onClick:function(){W()},children:"\u2193"})})]}),(0,n.jsx)("div",{className:"ml-24",children:(0,n.jsx)("div",{onClick:function(){F()},className:"font-bold text-4xl text-center w-24 h-24 rounded-[50%] bg-amber-400 active:bg-amber-600 active:shadow-2xl "})})]})]})},x=t(7160),h=t.n(x),p=function(){return(0,n.jsxs)("div",{className:h().container,children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"block"})}),(0,n.jsx)(b,{})]})}},7160:function(e){e.exports={main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}}},function(e){e.O(0,[688,774,888,179],(function(){return r=8312,e(e.s=r);var r}));var r=e.O();_N_E=r}]);