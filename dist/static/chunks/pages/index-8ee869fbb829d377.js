(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(r,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(1772)}])},1772:function(r,n,e){"use strict";e.r(n),e.d(n,{default:function(){return y}});var t=e(5893),i=e(9008),u=e.n(i),o=e(7294);e(6964);function c(r,n){(null==n||n>r.length)&&(n=r.length);for(var e=0,t=new Array(n);e<n;e++)t[e]=r[e];return t}function a(r){return function(r){if(Array.isArray(r))return c(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,n){if(!r)return;if("string"===typeof r)return c(r,n);var e=Object.prototype.toString.call(r).slice(8,-1);"Object"===e&&r.constructor&&(e=r.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return c(r,n)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l,f=10,s=16;!function(r){r.I="I",r.O="O",r.Z="Z",r.L="L",r.W="W"}(l||(l={}));var d=function(r){for(var n="",e=0;e<r;e++)n+="0";return n},m=[{type:l.W,item:[Number("0b01".concat(d(8))),Number("0b111".concat(d(7)))]},{type:l.O,item:[Number("0b11".concat(d(8))),Number("0b11".concat(d(8)))]},{type:l.I,item:[Number("0b10".concat(d(8))),Number("0b10".concat(d(8))),Number("0b10".concat(d(8))),Number("0b10".concat(d(8)))]},{type:l.L,item:[Number("0b10".concat(d(8))),Number("0b111".concat(d(7)))]},{type:l.L,item:[Number("0b001".concat(d(7))),Number("0b111".concat(d(7)))]},{type:l.Z,item:[Number("0b11".concat(d(8))),Number("0b011".concat(d(7)))]}],v=null,p=function(){var r=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;return(r||0).toString(2).padStart(n,"0")},n=function(r){return Math.floor(Math.random()*Math.floor(r))},e=(0,o.useState)(new Array(s).fill(0)),i=e[0],u=e[1],c=(0,o.useState)(new Array(s).fill(0)),d=c[0],p=c[1],b=(0,o.useState)(!1),h=b[0],y=b[1],N=(0,o.useState)(!1),_=N[0],g=N[1],x=(0,o.useRef)(i),j=(0,o.useRef)(d),w=(0,o.useRef)(!1),k=(0,o.useRef)({type:l.I,transferred:!1}),A=(0,o.useRef)(0);(0,o.useEffect)((function(){x.current=i}),[i]),(0,o.useEffect)((function(){j.current=d}),[d]);var I=function(r){return[0].concat(a(r.slice(0,-1)))},S=function(){return function(){var r,e,t=m[n(m.length)],i=t.item,u=t.type;k.current.type=u,k.current.transferred=!1;var o=(r=Math).min.apply(r,a(i.map((function(r){var n;return null!==(e=null===(n=r.toString(2).match(/0/g))||void 0===n?void 0:n.length)&&void 0!==e?e:0})))),c=n(o);return i.map((function(r){return r>>c}))}()},C=function(n,e){var t=!1;return e.map((function(i,u){if(i){var o,c,a=u,l=r(null!==(o=n[a])&&void 0!==o?o:0),f=r(null!==(c=e[a])&&void 0!==c?c:0);l.split("").map((function(r,n){"1"===r&&"1"===f[n]&&(t=!0)}))}})),t},E=function(){var r=S(),n=new Array(s).fill(0);r.forEach((function(r,e){n[e]=r})),p(n),C(n,x.current)&&(w.current=!1,y(!1),g(!1),v&&clearInterval(v),console.log("over"))},L=function(){if(w.current){var n=I(j.current);if(C(n,x.current)||j.current.at(-1)){var e=function(n,e){var t=[];return e.map((function(i,u){if(0===i)t[u]=n[u];else{var o=r(n[u]),c=r(e[u]);t[u]=Number("0b"+o)^Number("0b"+c)}})),t}(j.current,x.current);p([]);var t=function(r){var n=[];return r.map((function(r){r===Math.pow(2,f)-1?(n.unshift(0),A.current+=1):n.push(r)})),n}(e);return u(t),void E()}p(n)}},H=function(){if(w.current){var n=function(n){var e=!1,t=n.map((function(n){return"1"===r(n).at(0)&&(e=!0),n<<1}));return e?n:t}(j.current);C(n,x.current)||p(n)}},O=function(){if(w.current){var n=function(n){var e=!1,t=n.map((function(n){return"1"===r(n).at(-1)&&(e=!0),n>>1}));return e?n:t}(j.current);C(n,x.current)||p(n)}},D=function(){if(w.current){var n=function(n,e){var t=n.map((function(n){return r(n).split("")})),i=!0,u=function(r){var e=[1/0,1/0];t.map((function(n,i){n.map((function(n,u){var o,c,a,f,s,d,m,v;15!==i&&9!=u&&(r===l.W&&Number(null===t||void 0===t||null===(o=t[i])||void 0===o?void 0:o[u-1])+Number(null===t||void 0===t||null===(c=t[i])||void 0===c?void 0:c[u+1])+Number(null===t||void 0===t||null===(a=t[i-1])||void 0===a?void 0:a[u])+Number(null===t||void 0===t||null===(f=t[i+1])||void 0===f?void 0:f[u])===3&&(e=[i,u]),r===l.L&&(Number(null===t||void 0===t||null===(s=t[i])||void 0===s?void 0:s[u-1])+Number(null===t||void 0===t||null===(d=t[i])||void 0===d?void 0:d[u+1])!==2&&Number(null===t||void 0===t||null===(m=t[i-1])||void 0===m?void 0:m[u])+Number(null===t||void 0===t||null===(v=t[i+1])||void 0===v?void 0:v[u])!==2||(e=[i,u])))}))}));var u=e[0]-1,o=e[1]-1;if(u+3>s||o+3>f||u<0||o<0)return{list:n,transferred:!1};for(var c=t.slice(u,u+3+1).map((function(r){return r.slice(o,o+3+1)})),a=new Array(3).fill(0).map((function(){return new Array(3).fill("0")})),d=0;d<3;d++)for(var m=2;m>=0;m--)a[d][3-m-1]=c[m][d];for(var v=0;v<a.length;v++)for(var p=0;p<a[v].length;p++)t[v+u][p+o]=a[v][p];return{list:t.map((function(r,n){return Number("0b"+r.join(""))})),transferred:i}};switch(e){case l.I:var o=-1,c=-1;return{list:t.map((function(r,n){return r.map((function(r,e){return"1"===r&&-1===o&&-1===c&&(o=n,c=e),k.current.transferred?(o+4>s&&(i=!1),e===c&&n<o+4?"1":"0"):(c+4>f&&(i=!1),n===o&&e<c+4?"1":"0")}))})).map((function(r){return Number("0b"+r.join(""))})),transferred:i};case l.W:case l.L:return u(e);case l.Z:for(var a=-1,d=-1,m=0;m<t.length;m++){for(var v=0;v<t[m].length;v++)if("1"===t[m][v]&&-1===a&&-1===d){a=m,d=v;break}if(-1!==a&&-1!==d)break}return{list:t.map((function(r,n){return r.map((function(r,e){return"1"===r&&-1===a&&-1===d&&(a=n,d=e),k.current.transferred?(1===d&&(i=!1),n===a&&(e===d-1||e===d-2)||n===a+1&&(e===d||e===d-1)?"1":"0"):(a>=14&&(i=!1),n===a&&e===d+2||n===a+1&&(e===d+1||e===d+2)||n===a+2&&e==d+1?"1":"0")}))})).map((function(r){return Number("0b"+r.join(""))})),transferred:i}}return{list:n,transferred:!1}}(j.current,k.current.type),e=n.list,t=n.transferred;!C(e,x.current)&&t?(k.current.transferred=!k.current.transferred,p(e)):console.log("trigger return")}},R=function(){if(w.current){for(var r=[],n=j.current;;){if(C(I(n),x.current)||n.at(-1)){r=n;break}n=I(n)}p(r)}};return(0,o.useEffect)((function(){document.addEventListener("keydown",(function(r){switch(r.code){case"ArrowLeft":r.preventDefault(),H();break;case"ArrowRight":r.preventDefault(),O();break;case"ArrowDown":r.preventDefault(),L();break;case"ArrowUp":r.preventDefault(),D();break;case"Space":r.preventDefault(),R()}}))}),[]),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex mb-4",children:[(0,t.jsx)("div",{onClick:function(){_||(g(!0),w.current=!0,A.current=0,E(),v=setInterval((function(){L()}),600))},className:"mr-4",children:"start"}),(0,t.jsx)("div",{className:"mr-4",onClick:function(){w.current?(v&&clearInterval(v),v=null):v=setInterval((function(){L()}),600),w.current=!w.current,y(!h)},children:h?"continue":"pause"}),(0,t.jsx)("div",{className:"mr-4",onClick:function(){y(!1),g(!1),p(new Array(s).fill(0)),u(new Array(s).fill(0)),w.current=!1,A.current=0,v&&clearInterval(v),v=null},children:"reset"})]}),(0,t.jsxs)("div",{className:"flex mt-10",children:[(0,t.jsx)("div",{className:"mr-4",onClick:function(){H()},children:"left"}),(0,t.jsx)("div",{className:"mr-4",onClick:function(){O()},children:"right"}),(0,t.jsx)("div",{className:"mr-4",onClick:function(){D()},children:"transfer"}),(0,t.jsx)("div",{className:"mr-4",onClick:function(){L()},children:"down"}),(0,t.jsx)("div",{onClick:function(){R()},children:"drop"})]}),(0,t.jsx)("div",{className:"mt-10 mb-10",children:A.current}),(0,t.jsxs)("div",{style:{position:"relative",border:"1px solid gray",width:"fit-content"},children:[(0,t.jsx)("div",{children:i.map((function(n,e){return(0,t.jsx)("div",{style:{display:"flex"},children:r(n).split("").map((function(r,n){return(0,t.jsx)("div",{style:{opacity:"1"===r?1:0,background:"#191B1F",margin:1,width:30,height:30}},"sub"+n)}))},"main"+e)}))}),(0,t.jsx)("div",{style:{position:"absolute",top:0,left:0},children:d.map((function(n,e){return(0,t.jsx)("div",{style:{display:"flex"},children:r(n).split("").map((function(r,n){return(0,t.jsx)("div",{style:{background:"#191B1F",opacity:"1"===r?1:0,width:30,height:30,margin:1}},"moving-sub"+n)}))},"moving-main"+e)}))}),(0,t.jsx)("div",{style:{position:"absolute",top:0,left:0,zIndex:10,background:"black",opacity:h?.8:0,width:"100%",height:"100%"}})]})]})})},b=e(7160),h=e.n(b),y=function(){return(0,t.jsxs)("div",{className:h().container,children:[(0,t.jsx)(u(),{children:(0,t.jsx)("title",{children:"block"})}),(0,t.jsx)(p,{})]})}},7160:function(r){r.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}}},function(r){r.O(0,[688,774,888,179],(function(){return n=8312,r(r.s=n);var n}));var n=r.O();_N_E=n}]);