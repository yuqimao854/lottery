(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1772)}])},1772:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return p}});var t=n(5893),i=n(9008),a=n.n(i),c=n(7294);n(6964);function u(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function o(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return u(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l,s=10,d=16;!function(e){e.I="I",e.O="O",e.Z="Z",e.L="L",e.W="W"}(l||(l={}));var f=function(e){for(var r="",n=0;n<e;n++)r+="0";return r},m=[{type:l.W,item:[Number("0b01".concat(f(8))),Number("0b111".concat(f(7)))]},{type:l.O,item:[Number("0b11".concat(f(8))),Number("0b11".concat(f(8)))]},{type:l.I,item:[Number("0b10".concat(f(8))),Number("0b10".concat(f(8))),Number("0b10".concat(f(8))),Number("0b10".concat(f(8)))]},{type:l.L,item:[Number("0b10".concat(f(8))),Number("0b111".concat(f(7)))]},{type:l.L,item:[Number("0b001".concat(f(7))),Number("0b111".concat(f(7)))]},{type:l.Z,item:[Number("0b11".concat(f(8))),Number("0b011".concat(f(7)))]}],v=null,b=function(){var e=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;return(e||0).toString(2).padStart(r,"0")},r=function(e){return Math.floor(Math.random()*Math.floor(e))},n=(0,c.useState)(new Array(d).fill(0)),i=n[0],a=n[1],u=(0,c.useState)(new Array(d).fill(0)),f=u[0],b=u[1],x=(0,c.useState)(!1),h=x[0],p=x[1],N=(0,c.useState)(!1),g=N[0],y=N[1],j=(0,c.useRef)(i),w=(0,c.useRef)(f),_=(0,c.useRef)(!1),k=(0,c.useRef)(),A=(0,c.useState)([]),S=A[0],I=A[1],E=(0,c.useRef)({type:l.I,transferred:!1}),C=(0,c.useRef)(0);(0,c.useEffect)((function(){j.current=i}),[i]),(0,c.useEffect)((function(){w.current=f}),[f]);var L=function(e){return[0].concat(o(e.slice(0,-1)))},H=function(){return function(){var e,n,t=m[void 0===k.current?r(m.length):k.current],i=t.item,a=t.type;k.current=r(m.length),E.current.type=a,E.current.transferred=!1;var c=(e=Math).min.apply(e,o(i.map((function(e){var r;return null!==(n=null===(r=e.toString(2).match(/0/g))||void 0===r?void 0:r.length)&&void 0!==n?n:0})))),u=r(c);return i.map((function(e){return e>>u}))}()},O=function(r,n){var t=!1;return n.map((function(i,a){if(i){var c,u,o=a,l=e(null!==(c=r[o])&&void 0!==c?c:0),s=e(null!==(u=n[o])&&void 0!==u?u:0);l.split("").map((function(e,r){"1"===e&&"1"===s[r]&&(t=!0)}))}})),t},R=function(){var e=H(),r=new Array(d).fill(0);e.forEach((function(e,n){r[n]=e})),b(r),O(r,j.current)?(_.current=!1,p(!1),y(!1),v&&clearInterval(v),console.log("over")):I(function(){var e;return m[null!==(e=k.current)&&void 0!==e?e:0].item}())},D=function(){if(_.current){var r=L(w.current);if(O(r,j.current)||w.current.at(-1)){var n=function(r,n){var t=[];return n.map((function(i,a){if(0===i)t[a]=r[a];else{var c=e(r[a]),u=e(n[a]);t[a]=Number("0b"+c)^Number("0b"+u)}})),t}(w.current,j.current);b([]);var t=function(e){var r=[];return e.map((function(e){e===Math.pow(2,s)-1?(r.unshift(0),C.current+=1):r.push(e)})),r}(n);return a(t),void R()}b(r)}},M=function(){if(_.current){var r=function(r){var n=!1,t=r.map((function(r){return"1"===e(r).at(0)&&(n=!0),r<<1}));return n?r:t}(w.current);O(r,j.current)||b(r)}},T=function(){if(_.current){var r=function(r){var n=!1,t=r.map((function(r){return"1"===e(r).at(-1)&&(n=!0),r>>1}));return n?r:t}(w.current);O(r,j.current)||b(r)}},W=function(){if(_.current){var r=function(r,n){var t=r.map((function(r){return e(r).split("")})),i=!0,a=function(e){var n=[1/0,1/0];t.map((function(r,i){r.map((function(r,a){var c,u,o,s,d,f,m,v;15!==i&&9!=a&&(e===l.W&&Number(null===t||void 0===t||null===(c=t[i])||void 0===c?void 0:c[a-1])+Number(null===t||void 0===t||null===(u=t[i])||void 0===u?void 0:u[a+1])+Number(null===t||void 0===t||null===(o=t[i-1])||void 0===o?void 0:o[a])+Number(null===t||void 0===t||null===(s=t[i+1])||void 0===s?void 0:s[a])===3&&(n=[i,a]),e===l.L&&(Number(null===t||void 0===t||null===(d=t[i])||void 0===d?void 0:d[a-1])+Number(null===t||void 0===t||null===(f=t[i])||void 0===f?void 0:f[a+1])!==2&&Number(null===t||void 0===t||null===(m=t[i-1])||void 0===m?void 0:m[a])+Number(null===t||void 0===t||null===(v=t[i+1])||void 0===v?void 0:v[a])!==2||(n=[i,a])))}))}));var a=n[0]-1,c=n[1]-1;if(a+3>d||c+3>s||a<0||c<0)return{list:r,transferred:!1};for(var u=t.slice(a,a+3+1).map((function(e){return e.slice(c,c+3+1)})),o=new Array(3).fill(0).map((function(){return new Array(3).fill("0")})),f=0;f<3;f++)for(var m=2;m>=0;m--)o[f][3-m-1]=u[m][f];for(var v=0;v<o.length;v++)for(var b=0;b<o[v].length;b++)t[v+a][b+c]=o[v][b];return{list:t.map((function(e,r){return Number("0b"+e.join(""))})),transferred:i}};switch(n){case l.I:var c=-1,u=-1;return{list:t.map((function(e,r){return e.map((function(e,n){return"1"===e&&-1===c&&-1===u&&(c=r,u=n),E.current.transferred?(c+4>d&&(i=!1),n===u&&r<c+4?"1":"0"):(u+4>s&&(i=!1),r===c&&n<u+4?"1":"0")}))})).map((function(e){return Number("0b"+e.join(""))})),transferred:i};case l.W:case l.L:return a(n);case l.Z:for(var o=-1,f=-1,m=0;m<t.length;m++){for(var v=0;v<t[m].length;v++)if("1"===t[m][v]&&-1===o&&-1===f){o=m,f=v;break}if(-1!==o&&-1!==f)break}return{list:t.map((function(e,r){return e.map((function(e,n){return"1"===e&&-1===o&&-1===f&&(o=r,f=n),E.current.transferred?(1===f&&(i=!1),r===o&&(n===f-1||n===f-2)||r===o+1&&(n===f||n===f-1)?"1":"0"):(o>=14&&(i=!1),r===o&&n===f+2||r===o+1&&(n===f+1||n===f+2)||r===o+2&&n==f+1?"1":"0")}))})).map((function(e){return Number("0b"+e.join(""))})),transferred:i}}return{list:r,transferred:!1}}(w.current,E.current.type),n=r.list,t=r.transferred;!O(n,j.current)&&t?(E.current.transferred=!E.current.transferred,b(n)):console.log("trigger return")}},B=function(){if(_.current){for(var e=[],r=w.current;;){if(O(L(r),j.current)||r.at(-1)){e=r;break}r=L(r)}b(e)}};return(0,c.useEffect)((function(){document.addEventListener("keydown",(function(e){switch(e.code){case"ArrowLeft":e.preventDefault(),M();break;case"ArrowRight":e.preventDefault(),T();break;case"ArrowDown":e.preventDefault(),D();break;case"ArrowUp":e.preventDefault(),W();break;case"Space":e.preventDefault(),B()}}))}),[]),(0,t.jsxs)("div",{className:"flex h-[100vh] bg-red-900 flex-col items-center content-center pt-4",children:[(0,t.jsxs)("div",{className:"flex relative w-full bg-slate-400 ",children:[(0,t.jsxs)("div",{style:{position:"relative",width:"fit-content"},className:" border-r-2 border-r-zinc-800",children:[(0,t.jsx)("div",{children:i.map((function(r,n){return(0,t.jsx)("div",{style:{display:"flex"},children:e(r).split("").map((function(e,r){return(0,t.jsx)("div",{className:"w-6 h-6",style:{opacity:"1"===e?1:0,background:"#191B1F",margin:1}},"sub"+r)}))},"main"+n)}))}),(0,t.jsx)("div",{style:{position:"absolute",top:0,left:0},children:f.map((function(r,n){return(0,t.jsx)("div",{style:{display:"flex"},children:e(r).split("").map((function(e,r){return(0,t.jsx)("div",{className:"w-6 h-6",style:{background:"#191B1F",opacity:"1"===e?1:0,margin:1}},"moving-sub"+r)}))},"moving-main"+n)}))})]}),(0,t.jsxs)("div",{className:" text-center flex-1 overflow-hidden",children:[(0,t.jsx)("div",{className:" ",children:"Score"}),(0,t.jsx)("div",{className:"mt-3 font-bold text-4xl",children:C.current}),(0,t.jsx)("div",{className:"mt-10 font-bold ",children:"Next Block"}),(0,t.jsx)("div",{className:" mt-10 translate-x-6",children:S.map((function(r,n){return(0,t.jsx)("div",{style:{display:"flex"},children:e(r).split("").slice(0,4).map((function(e,r){return(0,t.jsx)("div",{className:"w-6 h-6",style:{opacity:"1"===e?1:0,background:"#191B1F",margin:1}},"next_sub"+r)}))},"next_main"+n)}))})]}),(0,t.jsx)("div",{style:{position:"absolute",top:0,left:0,zIndex:10,background:"black",opacity:h?.8:0,width:"100%",height:"100%"}})]}),(0,t.jsxs)("div",{className:"flex mt-4 mb-4",children:[(0,t.jsxs)("div",{className:"mr-4 items-center flex justify-center flex-col",children:[(0,t.jsx)("div",{onClick:function(){g||(y(!0),_.current=!0,C.current=0,R(),v=setInterval((function(){D()}),600))},className:" w-6 h-6 rounded-[50%] bg-amber-400 active:bg-amber-600 active:shadow-2xl"}),(0,t.jsx)("div",{className:" text-amber-100 ",children:" on/off"})]}),(0,t.jsxs)("div",{className:"mr-4 items-center flex justify-center flex-col",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-[50%] bg-amber-400 active:bg-amber-600 active:shadow-2xl",onClick:function(){_.current?(v&&clearInterval(v),v=null):v=setInterval((function(){D()}),600),_.current=!_.current,p(!h)}}),(0,t.jsx)("div",{className:"text-amber-100",children:"pause/play"})]}),(0,t.jsxs)("div",{className:"mr-4 items-center flex justify-center flex-col",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-[50%] bg-amber-400 active:bg-amber-600 active:shadow-2xl ",onClick:function(){p(!1),y(!1),b(new Array(d).fill(0)),a(new Array(d).fill(0)),I([]),_.current=!1,C.current=0,k.current=void 0,v&&clearInterval(v),v=null}}),(0,t.jsx)("div",{className:"text-amber-100",children:" reset"})]})]}),(0,t.jsxs)("div",{className:"flex mt-10 items-center ",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex w-[9rem] justify-center",children:(0,t.jsx)("div",{className:"text-amber-100 font-bold text-4xl leading-[3rem] text-center w-12 h-12 rounded-[50%] bg-amber-400 active:bg-amber-600 active:shadow-2xl ",onClick:function(){W()},children:"\u2191"})}),(0,t.jsxs)("div",{className:"flex w-[9rem] justify-between",children:[(0,t.jsx)("div",{className:"text-amber-100 font-bold text-4xl leading-[3rem] text-center w-12 h-12 rounded-[50%] bg-amber-400 active:bg-amber-600 active:shadow-2xl ",onClick:function(){M()},children:"\u2190"}),(0,t.jsx)("div",{className:"text-amber-100 font-bold text-4xl leading-[3rem] text-center w-12 h-12 rounded-[50%] bg-amber-400 active:bg-amber-600 active:shadow-2xl ",onClick:function(){T()},children:"\u2192"})]}),(0,t.jsx)("div",{className:"flex w-[9rem] justify-center",children:(0,t.jsx)("div",{className:"text-amber-100 font-bold text-4xl leading-[3rem] text-center w-12 h-12 rounded-[50%] bg-amber-400 active:bg-amber-600 active:shadow-2xl ",onClick:function(){D()},children:"\u2193"})})]}),(0,t.jsx)("div",{className:"ml-24",children:(0,t.jsx)("div",{onClick:function(){B()},className:"font-bold text-4xl text-center w-24 h-24 rounded-[50%] bg-amber-400 active:bg-amber-600 active:shadow-2xl "})})]})]})},x=n(7160),h=n.n(x),p=function(){return(0,t.jsxs)("div",{className:h().container,children:[(0,t.jsx)(a(),{children:(0,t.jsx)("title",{children:"block"})}),(0,t.jsx)(b,{})]})}},7160:function(e){e.exports={main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}}},function(e){e.O(0,[688,774,888,179],(function(){return r=8312,e(e.s=r);var r}));var r=e.O();_N_E=r}]);